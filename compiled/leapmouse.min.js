!function(){"use strict";var e,o,t,n,s,i,u,l={simMouseMove:!0,simMouseOver:!0,simMouseOut:!0,simClick:!0,clickModes:["tap","keytap","hold","thumb"],clickHoldTime:1e3,enableGestures:!0,leapLib:Leap,leapBounds:{top:200,left:-150,bottom:30,right:150,back:-70,front:50},screenBounds:null,pointerElt:null,cursorHtml:'<div class="cursor"></div>',hoverClass:"hover"},r={},c={},d={},a=function(t){if(console.log("init"),t&&t.$)n=t.$;else{if(!window.jQuery)throw"jQuery must be loaded or $ alternative provided";n=jQuery}e=n.extend({},l,t),n(document).ready(function(){console.log("document ready"),s=n(e.cursorHtml),n("body").append(s),o=new e.leapLib.Controller({enableGestures:e.enableGestures}),o.loop(f),p(),n(window).on("resize",function(){e.screenBounds||p()})})},p=function(o){var s;o?(e.screenBounds=n.extend(e.screenBounds,o),t=e.screenBounds):(s=n(window),t={top:0,right:s.width(),bottom:s.height(),left:0},e.screenBounds=null)},f=function(e){var o,t,n,s;if(s=e.pointables[0],s&&(c.x=s.tipPosition[0],c.y=s.tipPosition[1],c.z=s.tipPosition[2],d.x=s.direction[1],d.y=s.direction[0],d.z=s.direction[2],r=w(c.x,c.y),h(r.x,r.y),v(r.x,r.y)),!u)for(o=0,t=e.gestures.length;t>o;++o)if(n=e.gestures[o],"screenTap"===n.type&&s){console.log("screen tap");var i=w(n.position[0],n.position[1]);b(i.x,i.y)}},v=function(o,t){m(c,e.leapBounds)?(s.show(),s.css("top",t),s.css("left",o)):(console.log("out of bounds",c),s.hide())},m=function(e,o,t){var s=!0,i=n.extend({},e);return(i.x<o.left||i.x>o.right||t&&(i.y<o.top||i.y>o.bottom)||i.y<o.bottom||i.y>o.top||i.z&&o.front&&o.back&&(i.z<o.back||i.z>o.front))&&(s=!1),s},b=function(e,o){var t,s,i,u;if(u=document.elementFromPoint(e,o)||document){var l=document.createEvent("MouseEvents");t=0,s=0,i=n(u).offset(),i&&(t=e-i.left,s=o-i.top),l.initMouseEvent("click",!0,!0,window,1,0,0,t,s,!1,!1,!1,!1,0,null),u.dispatchEvent(l)}},h=function(e,o){var t,s,u,l,r,c=document.elementFromPoint(e,o);if(c){var d=document.createEvent("MouseEvents");t=0,s=0,r=n(c).offset(),r&&(t=e-r.left,s=o-r.top),d.initMouseEvent("mousemove",!0,!0,window,1,0,0,t,s,!1,!1,!1,!1,0,null),c.dispatchEvent(d),c!==i&&(console.log("over:",c),r=n(i).offset(),r&&(u=e-r.left,l=o-r.top,d=document.createEvent("MouseEvents"),d.initMouseEvent("mouseout",!0,!0,window,0,0,0,u,l,!1,!1,!1,!1,0,null),i.dispatchEvent(d)),d=document.createEvent("MouseEvents"),d.initMouseEvent("mouseover",!0,!0,window,0,0,0,t,s,!1,!1,!1,!1,0,null),c.dispatchEvent(d)),i=c}},w=function(o,n){var s,i,u,l,r,c,d,a,p,f=0,v=0;return c=e.leapBounds.right-e.leapBounds.left,d=e.leapBounds.top-e.leapBounds.bottom,a=c/d,u=t.right-t.left,l=t.bottom-t.top,r=u/l,r>a?(p=u/c,v=.5*(d-c/r)):(p=l/d,f=.5*(c-d*r)),s=(o-e.leapBounds.left-f)*p+t.left,i=t.bottom-(n-e.leapBounds.bottom-v)*p,{x:s,y:i}},y={defaults:l,init:a,setScreenBounds:p};window.leapMouse=y}();